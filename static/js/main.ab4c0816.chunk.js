(this.webpackJsonpbeejee=this.webpackJsonpbeejee||[]).push([[0],{192:function(e,t,a){e.exports=a(416)},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){},413:function(e,t,a){},414:function(e,t,a){},415:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(6),s=a.n(r),c=a(24),o=a(23),i=a(46),l=a(47),u=a(48),p=a(0),d=a.n(p),h=a(22),f=a(35),m=a(34),g=a(452),v=a(3),b=a(90),k=a.n(b),x=a(455),O=(a(405),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.variant,a=e.className,n=e.error,r=e.style,s=e.value,c=Object(v.a)(e,["variant","className","error","style","value"]);return d.a.createElement("div",{className:k()("wrapper","".concat(a))},d.a.createElement(x.a,Object.assign({variant:t,className:"input",InputProps:{classes:{root:k()("root",{error:n},r),focused:"inputFocused"}},FormHelperTextProps:{classes:{root:"helperTextRoot"}},value:s},c)))}}]),t}(p.PureComponent));O.defaultProps={variant:"outlined",style:"",className:"",error:!1,value:""};var j=O,y=a(451);a(406);function w(e){var t=e.variant,a=e.color,n=(e.classes,Object(v.a)(e,["variant","color","classes"]));return d.a.createElement(y.a,Object.assign({classes:{root:"Button"},variant:t,color:a,target:"_blank"},n))}w.defaultProps={variant:"contained",color:"default",classes:{}};var C=w,E=a(52);a(407);var T=Object(m.b)((function(e){return{login:e.login}}),Object(n.a)({},E))((function(e){var t=Object(p.useState)({username:"",password:""}),a=Object(f.a)(t,2),r=a[0],c=a[1],o=Object(p.useState)(!1),i=Object(f.a)(o,2),l=i[0],u=i[1],m=Object(p.useState)({username:"",password:""}),v=Object(f.a)(m,2),b=v[0],k=v[1];function x(e,t){c(Object(n.a)({},r,Object(h.a)({},e,t))),k(Object(n.a)({},b,Object(h.a)({},e,"")))}function O(e){k(Object(n.a)({},e))}return d.a.createElement("div",{className:"pageWrapper"},d.a.createElement("div",{className:"inputBlock"},d.a.createElement(j,{placeholder:"Username",fullWidth:!0,value:r.username,className:"input",onChange:Object(p.useCallback)((function(e){return x("username",e.target.value)})),error:!!b.username,helperText:b.username}),d.a.createElement(j,{type:"password",placeholder:"Password",fullWidth:!0,value:r.password,className:"input",onChange:Object(p.useCallback)((function(e){return x("password",e.target.value)})),error:!!b.password,helperText:b.password}),d.a.createElement(C,{color:"secondary",fullWidth:!0,className:"input",onClick:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,s.a.awrap(e.login(r,O));case 3:u(!1);case 4:case"end":return t.stop()}}))}},l?d.a.createElement(g.a,{size:35}):"Login")))})),N=a(184),S=a.n(N),_=a(453),L=a(454),U=a(57);a(411);var F=Object(m.b)((function(){return{}}),Object(n.a)({},U))((function(e){var t={username:"",email:"",text:""},a=Object(p.useState)(t),r=Object(f.a)(a,2),c=r[0],o=r[1],i=Object(p.useState)(!1),l=Object(f.a)(i,2),u=l[0],m=l[1],v=Object(p.useState)(t),b=Object(f.a)(v,2),k=b[0],x=b[1];function O(e,t){o(Object(n.a)({},c,Object(h.a)({},e,t))),x(Object(n.a)({},k,Object(h.a)({},e,"")))}function y(e){x(Object(n.a)({},e))}return d.a.createElement("div",{className:"createPageWrapper"},d.a.createElement("div",{className:"inputBlock"},d.a.createElement(j,{placeholder:"Username",fullWidth:!0,value:c.username,className:"input",onChange:Object(p.useCallback)((function(e){return O("username",e.target.value)})),error:!!k.username,helperText:k.username}),d.a.createElement(j,{type:"email",placeholder:"Email",fullWidth:!0,value:c.email,className:"input",onChange:Object(p.useCallback)((function(e){return O("email",e.target.value)})),error:!!k.email,helperText:k.email}),d.a.createElement(j,{placeholder:"Text",fullWidth:!0,value:c.text,className:"input",onChange:Object(p.useCallback)((function(e){return O("text",e.target.value)})),error:!!k.text,helperText:k.text}),d.a.createElement(C,{color:"secondary",fullWidth:!0,className:"input",onClick:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,s.a.awrap(e.createTask(c,y,e.handleToggleCreate));case 3:return t.next=5,s.a.awrap(e.getTasks({page:e.page,sort_field:e.sort_field,sort_direction:e.sort_direction}));case 5:m(!1);case 6:case"end":return t.stop()}}))}},u?d.a.createElement(g.a,{size:35}):"Create")))})),P=a(456);a(412);var A=Object(m.b)((function(){return{}}),Object(n.a)({},U))((function(e){var t=Object(p.useState)(e.task),a=Object(f.a)(t,2),r=a[0],c=a[1],o=Object(p.useState)(!1),i=Object(f.a)(o,2),l=i[0],u=i[1],m=Object(p.useState)({status:"",text:""}),v=Object(f.a)(m,2),b=v[0],k=v[1];function x(e,t){c(Object(n.a)({},r,Object(h.a)({},e,t))),k(Object(n.a)({},b,Object(h.a)({},e,"")))}function O(e){k(Object(n.a)({},e))}return d.a.createElement("div",{className:"UpdatePageWrapper"},d.a.createElement("div",{className:"inputBlock"},d.a.createElement(j,{placeholder:"Status",fullWidth:!0,type:"number",select:!0,value:r.status,className:"input",onChange:Object(p.useCallback)((function(e){return x("status",e.target.value)})),error:!!b.status,helperText:b.status},[{label:"Fulfilled",value:10},{label:"Unfulfilled",value:0}].map((function(e){return d.a.createElement(P.a,{key:e.value,value:e.value},e.label)}))),d.a.createElement(j,{placeholder:"Text",fullWidth:!0,value:r.text,className:"input",onChange:Object(p.useCallback)((function(e){return x("text",e.target.value)})),error:!!b.text,helperText:b.text}),d.a.createElement(C,{color:"secondary",fullWidth:!0,className:"input",onClick:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,s.a.awrap(e.updateTask(e.task.id,r,O,e.handleToggleUpdate));case 3:return t.next=5,s.a.awrap(e.getTasks({page:e.page,sort_field:e.sort_field,sort_direction:e.sort_direction}));case 5:u(!1);case 6:case"end":return t.stop()}}))}},l?d.a.createElement(g.a,{size:35}):"Update")))})),W=(a(413),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0,isCreate:!1,isUpdate:!1,page:0,task:{id:""},sort_field:"id",sort_direction:"asc"},a.handleChangePage=function(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(a.setState({isLoading:!0,page:e.selected+1}));case 2:return t.next=4,s.a.awrap(a.props.getTasks({page:a.state.page,sort_field:a.state.sort_field,sort_direction:a.state.sort_direction}));case 4:return t.next=6,s.a.awrap(a.setState({isLoading:!1}));case 6:case"end":return t.stop()}}))},a.handelLogout=function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(a.props.logout());case 2:case"end":return e.stop()}}))},a.handleToggleCreate=function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(a.setState({isCreate:!a.state.isCreate}));case 2:case"end":return e.stop()}}))},a.handleToggleUpdate=function(e){return function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(a.setState({task:e,isUpdate:!a.state.isUpdate}));case 2:case"end":return t.stop()}}))}},a.handleSort=function(e){return function(t){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(a.setState({sort_field:e,sort_direction:"asc"===a.state.sort_direction?"desc":"asc",isLoading:!0}));case 2:return t.next=4,s.a.awrap(a.props.getTasks({page:a.state.page,sort_field:e,sort_direction:a.state.sort_direction}));case 4:return t.next=6,s.a.awrap(a.setState({isLoading:!1}));case 6:case"end":return t.stop()}}))}},a.renderHeader=function(){var e=a.state,t=e.sort_field,n=e.sort_direction;return d.a.createElement("div",{className:"headerWrapper"},d.a.createElement("div",{className:"header",onClick:a.handleSort("id")},"ID ","id"===t?d.a.createElement(_.a,{style:{transform:"rotate(".concat("asc"===n?0:180,"deg)"),marginLeft:"5px",width:"15px",height:"15px"}}):d.a.createElement(L.a,{style:{marginLeft:"5px",width:"15px",height:"15px"}})),d.a.createElement("div",{className:"header",onClick:a.handleSort("username")},"User Name ","username"===t?d.a.createElement(_.a,{style:{transform:"rotate(".concat("asc"===n?0:180,"deg)"),marginLeft:"5px",width:"15px",height:"15px"}}):d.a.createElement(L.a,{style:{marginLeft:"5px",width:"15px",height:"15px"}})),d.a.createElement("div",{className:"header",onClick:a.handleSort("email")},"Email ","email"===t?d.a.createElement(_.a,{style:{transform:"rotate(".concat("asc"===n?0:180,"deg)"),marginLeft:"5px",width:"15px",height:"15px"}}):d.a.createElement(L.a,{style:{marginLeft:"5px",width:"15px",height:"15px"}})),d.a.createElement("div",{className:k()("header","notActive")},"Text"),d.a.createElement("div",{className:"header",onClick:a.handleSort("status")},"Status ","status"===t?d.a.createElement(_.a,{style:{transform:"rotate(".concat("asc"===n?0:180,"deg)"),marginLeft:"5px",width:"15px",height:"15px"}}):d.a.createElement(L.a,{style:{marginLeft:"5px",width:"15px",height:"15px"}})))},a.renderTasks=function(){var e=a.props,t=e.tasks,n=e.totalCount,r=a.state,s=r.isLoading,c=r.page;return d.a.createElement("div",{className:"pageWrapper"},d.a.createElement("div",{className:"taskPage"},a.renderHeader(),s?d.a.createElement(g.a,{size:35}):t&&t.map((function(e){return d.a.createElement("div",{className:"task",key:e.id,onClick:a.handleToggleUpdate(e)},d.a.createElement("div",{className:"taskName"},e.id),d.a.createElement("div",{className:"taskName"},e.username),d.a.createElement("div",{className:"taskName"},e.email),d.a.createElement("div",{className:"taskName"},e.text),d.a.createElement("div",{className:"taskName"},e.status?"Fulfilled":"Unfulfilled"))})),d.a.createElement(S.a,{pageCount:Math.ceil(n/3),previousLabel:"Previous",pageRangeDisplayed:3,nextLabel:"Next",onPageChange:a.handleChangePage,initialPage:c,pageClassName:"page",previousClassName:"button",nextClassName:"button",activeClassName:"active",breakClassName:"page",containerClassName:"container",disableInitialCallback:!0})))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(this.setState({isLoading:!0}));case 2:return e.next=4,s.a.awrap(this.props.getTasks({page:this.state.page,sort_field:this.state.sort_field,sort_direction:this.state.sort_direction}));case 4:return e.next=6,s.a.awrap(this.setState({isLoading:!1}));case 6:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.isCreate,a=e.isUpdate,n=e.task,r=e.page,s=e.sort_field,c=e.sort_direction;return d.a.createElement("div",null,d.a.createElement(C,{style:{marginBottom:"30px",marginRight:"30px"},onClick:this.handelLogout},"Logout"),d.a.createElement(C,{style:{marginBottom:"30px"},onClick:this.handleToggleCreate},t?"Back":"Create"),t?d.a.createElement(F,{handleToggleCreate:this.handleToggleCreate,page:r,sort_field:s,sort_direction:c,getTasks:this.props.getTasks}):a?d.a.createElement(A,{task:n,page:r,sort_field:s,sort_direction:c,getTasks:this.props.getTasks,handleToggleUpdate:this.handleToggleUpdate(n)}):this.renderTasks())}}]),t}(p.PureComponent)),B=Object(m.b)((function(e){return{tasks:e.tasks.tasks,totalCount:e.tasks.totalCount}}),Object(n.a)({},U,{},E))(W),I=(a(414),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(this.props.checkSession());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props.isLogin;return d.a.createElement("div",{className:"App"},e?d.a.createElement(B,null):d.a.createElement(T,null))}}]),t}(p.Component));t.default=Object(m.b)((function(e){return{isLogin:e.login.isLogin}}),Object(n.a)({},E))(I)},416:function(e,t,a){"use strict";a.r(t);a(193);var n=a(0),r=a.n(n),s=a(12),c=a.n(s),o=a(183),i=a(34),l=a(185),u=a(448),p=a(59),d=a(182),h=a(16),f=a(57),m={tasks:[],totalCount:0};var g=a(52),v={isLogin:!1};var b=Object(p.c)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.tasks,r=t.totalCount;switch(a){case f.SUCCESS_GET_TASKS:return Object(h.a)({},e,{tasks:n,totalCount:r});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;switch((arguments.length>1?arguments[1]:void 0).type){case g.LOGIN:return Object(h.a)({},e,{isLogin:!0});case g.LOGOUT:return Object(h.a)({},e,{isLogin:!1});default:return e}}});a.d(t,"mountApp",(function(){return O}));var k=Object(l.a)({palette:{primary:{light:"#31BFA5",main:"#31BFA5",dark:"#31BFA5",contrastText:"#FFF"},secondary:{light:"#FFF",main:"#FFF",dark:"#FFF",contrastText:"#000"}},typography:{body1:{color:"rgba(0,0,0,0.54)"},subheading:{color:"#444444"},button:{textTransform:"capitalize"}}}),x=function(){var e=p.d;return Object(p.e)(b,e(Object(p.a)(d.a)))}();function O(){var e,t=a(415).default;e=t,c.a.render(r.a.createElement(i.a,{store:x},r.a.createElement(u.a,{theme:k},r.a.createElement(o.AppContainer,null,r.a.createElement(e,null)))),document.getElementById("root"))}O()},52:function(e,t,a){"use strict";a.r(t),a.d(t,"LOGIN",(function(){return c})),a.d(t,"LOGOUT",(function(){return o})),a.d(t,"login",(function(){return i})),a.d(t,"logout",(function(){return l})),a.d(t,"checkSession",(function(){return u}));var n=a(6),r=a.n(n),s=a(83),c="LOGIN",o="LOGOUT";function i(e,t){return function(a){var n,o;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,r.a.awrap(s.a.login.login(e));case 3:"ok"===(n=i.sent).status&&(o=n.message.token,localStorage.setItem("token",o),a({type:c})),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),t(i.t0);case 10:case"end":return i.stop()}}),null,null,[[0,7]])}}function l(){return function(e){localStorage.setItem("token",""),e({type:o})}}function u(){return function(e){try{if(!localStorage.getItem("token"))return;e({type:c})}catch(t){console.log(t)}}}},57:function(e,t,a){"use strict";a.r(t),a.d(t,"SUCCESS_GET_TASKS",(function(){return c})),a.d(t,"getTasks",(function(){return o})),a.d(t,"updateTask",(function(){return i})),a.d(t,"createTask",(function(){return l}));var n=a(6),r=a.n(n),s=a(83),c="SUCCESS_GET_TASKS";function o(e){return function(t){var a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(s.a.tasks.getTasks(e));case 3:"ok"===(a=n.sent).status&&t({type:c,tasks:a.message.tasks,totalCount:+a.message.total_task_count}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}}function i(e,t,a,n){return function(c){return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,r.a.awrap(s.a.tasks.updateTask(e,t));case 3:return c.next=5,r.a.awrap(n());case 5:c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),a(c.t0);case 10:case"end":return c.stop()}}),null,null,[[0,7]])}}function l(e,t,a){return function(n){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(s.a.tasks.createTask(e));case 3:return n.next=5,r.a.awrap(a());case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}}},83:function(e,t,a){"use strict";var n=a(6),r=a.n(n),s=a(24),c=a(23),o=function(){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).prefix,a=void 0===t?"api/v1":t;Object(s.a)(this,e),this.prefix=a}return Object(c.a)(e,[{key:"get",value:function(e,t){return this.request({url:e,method:"GET",params:t})}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return this.request({url:e,method:"POST",type:"test",body:t,params:a})}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return this.request({url:e,method:"PUT",body:t,params:a})}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return this.request({url:"".concat(e),method:"DELETE",body:t,params:a})}},{key:"patch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return this.request({url:"".concat(e),method:"PATCH",body:t,params:a})}},{key:"getFormData",value:function(e){var t=new FormData,a=localStorage.getItem("token");for(var n in e)t.append(n,e[n]);return t.append("token",a),t}},{key:"request",value:function(e){var t,a,n,s,c,o,i,l,u,p,d;return r.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(t=e.url,a=e.method,n=e.body,e.isFormData,s=e.headers,c=e.signal,e.type,o=e.params,i={method:a,headers:s||{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0},signal:c},n&&(i.body=this.getFormData(n)),l="",o)for(u in o)l="".concat(l,"&&").concat(u,"=").concat(o[u]);return h.prev=5,h.next=8,r.a.awrap(fetch("https://cors-anywhere.herokuapp.com/".concat(this.prefix).concat(t).concat(l),i));case 8:return p=h.sent,h.next=11,r.a.awrap(p.json());case 11:if(d=h.sent,!(p.status>=400)){h.next=14;break}throw new Error("Bad response from server");case 14:if(!d||"ok"!==d.status){h.next=16;break}return h.abrupt("return",d);case 16:throw d.message;case 19:throw h.prev=19,h.t0=h.catch(5),console.warn("Unhandled exeption"),console.warn(h.t0),h.t0;case 24:case"end":return h.stop()}}),null,this,[[5,19]])}}]),e}(),i=a(46),l=a(47),u=a(48),p=function e(t){var a=t.apiClient;if(Object(s.a)(this,e),!a)throw new Error("[apiClient] required");this.apiClient=a},d=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getTasks",value:function(e){return this.apiClient.get("?developer=admin",e)}},{key:"createTask",value:function(e){return this.apiClient.post("create?developer=admin",e)}},{key:"updateTask",value:function(e,t){return this.apiClient.post("edit/".concat(e,"?developer=admin"),t)}}]),t}(p),h=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"login",value:function(e){return this.apiClient.post("login?developer=admin",e)}}]),t}(p);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.apiPrefix;if(!t)throw new Error("[apiPrefix] required");var a=new o({prefix:t});return{apiClient:a,login:new h({apiClient:a}),tasks:new d({apiClient:a})}}({apiPrefix:"https://uxcandy.com/~shapoval/test-task-backend/v2/"})}},[[192,1,2]]]);
//# sourceMappingURL=main.ab4c0816.chunk.js.map